{
  "custom": {
    "colorCode": "rgb(255,0,0)",
    "currentValue": -1,
    "percent": -5.972999872483342e-13,
    "startDate": {
      "$": [
        "ts",
        192,
        1674129677255
      ],
      "$ts": 1671808352000
    },
    "startValue": {
      "$": [
        "ts",
        192,
        1674129686063
      ],
      "$ts": 1674129686062
    },
    "tag": [
      {
        "aggregate": "LastValue",
        "alias": "Value"
      }
    ]
  },
  "params": {
    "Start": "Dec 23, 2022, 10:12:32 AM",
    "confirmed": false,
    "id": "value",
    "label": "Hold For Target",
    "p1": 27.75,
    "p2": 1,
    "p3": 0,
    "t1": ""
  },
  "propConfig": {
    "custom.colorCode": {
      "binding": {
        "config": {
          "expression": "\"rgb(\"+\r\ntoint(if({view.custom.percent}\u003c\u003d0.5,255,((1-{view.custom.percent})*2)*255),0)+\",\"+\r\ntoint(if({view.custom.percent}\u003e\u003d0.5,255,(({view.custom.percent})*2)*255),0)+\",0)\""
        },
        "type": "expr"
      },
      "persistent": true
    },
    "custom.currentValue": {
      "binding": {
        "config": {
          "expression": "tag({view.params.t1})"
        },
        "type": "expr"
      },
      "persistent": true
    },
    "custom.percent": {
      "binding": {
        "config": {
          "expression": "1-abs({view.custom.currentValue}-{view.custom.startValue})/abs({view.params.p3}-{view.custom.startValue})"
        },
        "transforms": [
          {
            "expression": "if({view.params.p2}\u003e\u003d0,{value},1-{value})",
            "type": "expression"
          }
        ],
        "type": "expr"
      },
      "persistent": true
    },
    "custom.startDate": {
      "binding": {
        "config": {
          "expression": "{view.params.Start}"
        },
        "transforms": [
          {
            "code": "\treturn system.date.parse(value, \"MMM dd, yyyy, h:mm:ss a\")",
            "type": "script"
          }
        ],
        "type": "expr"
      },
      "persistent": true
    },
    "custom.startValue": {
      "binding": {
        "config": {
          "avoidScanClassValidation": true,
          "calculations": [
            "LastValue"
          ],
          "dateRange": {
            "endDate": "{view.custom.startDate}",
            "startDate": "dateArithmetic({view.custom.startDate}, -1, \u0027minute\u0027)"
          },
          "enableValueCache": true,
          "ignoreBadQuality": false,
          "preventInterpolation": false,
          "returnFormat": "Calculations",
          "tags": "{view.custom.tag}",
          "valueFormat": "DOCUMENT"
        },
        "transforms": [
          {
            "code": "\tif len(value)\u003d\u003d0:\n\t\treturn system.date.now()\n\telse:\n\t\treturn value[0][\"LastValue\"]",
            "type": "script"
          }
        ],
        "type": "tag-history"
      },
      "persistent": true
    },
    "custom.tag": {
      "persistent": true
    },
    "custom.tag[0].path": {
      "binding": {
        "config": {
          "path": "view.params.t1"
        },
        "type": "property"
      }
    },
    "params.Start": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.confirmed": {
      "paramDirection": "output",
      "persistent": true
    },
    "params.id": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.label": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.p1": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.p2": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.p3": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.t1": {
      "paramDirection": "input",
      "persistent": true
    }
  },
  "props": {
    "defaultSize": {
      "height": 200,
      "width": 320
    }
  },
  "root": {
    "children": [
      {
        "meta": {
          "name": "Label"
        },
        "position": {
          "basis": "28px",
          "shrink": 0
        },
        "propConfig": {
          "props.text": {
            "binding": {
              "config": {
                "path": "view.params.label"
              },
              "type": "property"
            }
          },
          "props.textStyle.color": {
            "binding": {
              "config": {
                "path": "../TimeSeriesChart.props.defaultStyles.colors[0]"
              },
              "overlayOptOut": true,
              "type": "property"
            }
          }
        },
        "props": {
          "style": {
            "textAlign": "center"
          }
        },
        "type": "ia.display.label"
      },
      {
        "meta": {
          "name": "Label Compare"
        },
        "position": {
          "basis": "28px",
          "shrink": 0
        },
        "propConfig": {
          "props.text": {
            "binding": {
              "config": {
                "expression": "{view.custom.currentValue}+\r\ncase(\r\n{view.params.p2},\r\n0,\r\n\" \u003d \",\r\n1,\r\n\" \u003e\u003d \",\r\n2,\r\n\" \u003c\u003d \",\r\n\"  \")+ {view.params.p1}"
              },
              "overlayOptOut": true,
              "type": "expr"
            }
          },
          "props.textStyle.color": {
            "binding": {
              "config": {
                "expression": "case(\r\n{view.params.p2},\r\n0,\r\nif({view.custom.currentValue}\u003d{view.params.p1},\"#00FF00\",\"#FF0000\"),\r\n1,\r\nif({view.custom.currentValue}\u003e\u003d{view.params.p1},\"#00FF00\",\"#FF0000\"),\r\n2,\r\nif({view.custom.currentValue}\u003c\u003d{view.params.p1},\"#00FF00\",\"#FF0000\"),\r\n\"#FF00FF\")"
              },
              "type": "expr"
            }
          }
        },
        "props": {
          "style": {
            "textAlign": "center"
          }
        },
        "type": "ia.display.label"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Progress"
            },
            "position": {
              "basis": "20px",
              "grow": 1
            },
            "propConfig": {
              "props.max": {
                "binding": {
                  "config": {
                    "expression": "max({view.params.p1},{view.custom.startValue})"
                  },
                  "type": "expr"
                }
              },
              "props.min": {
                "binding": {
                  "config": {
                    "expression": "min({view.params.p1},{view.custom.startValue})"
                  },
                  "type": "expr"
                }
              },
              "props.mode": {
                "binding": {
                  "config": {
                    "expression": "if({view.params.p2}\u003d0,\"indeterminate\",\"determinate\")"
                  },
                  "type": "expr"
                }
              },
              "props.value": {
                "binding": {
                  "config": {
                    "path": "view.custom.currentValue"
                  },
                  "type": "property"
                }
              }
            },
            "props": {
              "bar": {
                "color": "#00FF00"
              },
              "style": {
                "margin": "5px",
                "transform": ""
              }
            },
            "type": "ia.display.progress"
          }
        ],
        "meta": {
          "name": "FlexContainer"
        },
        "position": {
          "basis": "200px"
        },
        "type": "ia.container.flex"
      }
    ],
    "meta": {
      "name": "root"
    },
    "props": {
      "direction": "column",
      "style": {
        "borderStyle": "solid",
        "borderWidth": "2px",
        "margin": "3px",
        "overflow": "visible"
      }
    },
    "type": "ia.container.flex"
  }
}